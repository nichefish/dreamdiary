<#--
 * 캐시 목록 모달 Template
 * @included_in : _cache_list_modal.ftlh
 -->

<script type="text/x-handlebars-template" id="cache_list_modal_template">
    {{#each this}}
        <#--begin::Row-->
        <div class="row d-flex-align-center" data-cache-name="{{@key}}">
            <div class="col-2 d-flex-center flex-column gap-1">
                <div class="fw-bold">
                    "{{@key}}"
                </div>
                <div>
                    <button type="button" class="btn btn-sm btn-light-danger btn-outlined ms-2 py-1 px-2 cursor-pointer"
                            onclick="dF.Cache.clearByNmAjax('{{@key}}');"
                            data-bs-toggle="tooltip" data-bs-placement="top" data-bs-dismiss="click" title="캐시({{@key}})를 전부 초기화합니다." >
                        <i class="bi bi-trash p-0"></i>캐시 전체 초기화
                    </button>
                </div>
            </div>
            <div class="col-10">
                {{#each this}}
                    <#--begin::Row-->
                    <div class="row py-1" data-cache-key="{{@key}}">
                        <div class="col d-flex-align-center">
                            <div class="text-start text-truncate">
                                <button type="button" class="btn btn-sm btn-light-primary btn-outlined ms-2 py-1 px-3 cursor-pointer"
                                        onclick="dF.Cache.dtlModal('{{@../key}}', '{{@key}}');"
                                        data-bs-toggle="tooltip" data-bs-placement="top" data-bs-dismiss="click" title="캐시 상세 모달을 호출합니다." >
                                    {{#if (equals @key "SimpleKey()")}}
                                        -
                                    {{else}}
                                        {{@key}}
                                    {{/if}}
                                    <i class="bi bi-stickies ms-1 p-0"></i>
                                </button>
                                <button type="button" class="btn btn-sm btn-light-danger btn-outlined ms-2 py-1 px-0 cursor-pointer"
                                        onclick="dF.Cache.evictAjax('{{@../key}}', '{{@key}}');"
                                        data-bs-toggle="tooltip" data-bs-placement="top" data-bs-dismiss="click" title="캐시({{@../key}}, {{@key}})를 초기화합니다." >
                                    <i class="bi bi-trash p-0"></i>　
                                </button>
                                <span class="ms-4">
                                    {{stringify this}}
                                </span>
                            </div>
                        </div>
                    </div>
                {{/each}}
            </div>
        </div>
        {{#unless @last}}
            <div class="separator my-5"></div>
        {{/unless}}
    {{/each}}
</script>